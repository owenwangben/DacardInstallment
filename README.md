# CAWHO PAY APP(信用卡 WEB - Angular)

* [測試環境](#測試環境)
* [信用卡管理頁](#信用卡管理頁)
    * [卡片狀態](#卡片狀態)
    * [卡片資訊](#卡片資訊)
* [卡片列表頁](#卡片列表頁)
* [回饋消費明細](#回饋消費明細)
* [啟用卡片](#啟用卡片)
    * [啟用卡片Step1:身分確認](#啟用卡片step1身分確認)
    * [啟用卡片Step2:輸入OTP驗證碼](#啟用卡片step2輸入otp驗證碼)
    * [啟用卡片Step3-1:選擇啟用卡片(多卡)](#啟用卡片step3-1選擇啟用卡片多卡)
    * [啟用卡片Step3-2:優先啟用卡片(單卡)](#啟用卡片step3-2優先啟用卡片單卡)
    * [Step4:虛實卡卡片資訊](#step4虛實卡卡片資訊)
    * [Step5:啟用結果](#step5啟用結果)
* [線上開卡](#線上開卡)
    * [線上開卡Step1:輸入卡號資訊](#線上開卡step1輸入卡號資訊)
    * [線上開卡Step2:開卡結果](#線上開卡step2開卡結果)
* [申辦進度](#申辦進度)
    * [申辦進度：身分確認](#申辦進度身分確認)
    * [申辦進度Step2:列表頁](#申辦進度step2列表頁)
* [線上補件](#線上補件)
    * [線上補件Step1:身份證字號檢核](#線上補件step1身份證字號檢核)
    * [線上補件Step2:上傳檔案](#線上補件step2上傳檔案)
    * [線上補件Step3:確認圖片](#線上補件step3確認圖片)
    * [線上補件Step4:上傳結果](#線上補件step4上傳結果)
    * [MyData結果頁](#mydata結果頁)

## 測試環境

透過繳費網 Rewrite 至信用卡的 Web Server 位置各環境清單如下：

* SIT: 
    * http://10.11.37.159/WebCard/
    * <http://10.11.37.159:8001/WebCard/> (8001 待合併後會移除)
* UAT: http://10.11.42.59/WebCard/
* 正式: https://paybill.sinopac.com/WebCard/

## 信用卡管理頁

* URL: `/Account/CardManage`
* token 由 APP 傳入，或透過 APP API 去抓
* 資料來源：呼叫「卡片狀態」API，URL 為 `/api/Member/CardStatus`。

將分為[卡片狀態](#卡片狀態)及[卡片資訊](#卡片資訊)兩區塊。

### 卡片狀態

1. 卡片圖示
    * 顯示卡號對應卡圖，卡圖來源(待確認放哪裡)
2. 卡片狀態一：顯示「未核卡」、「立即開卡」(btn)
3. 卡片狀態二：顯示「聯繫客服」、「啟用卡片」、「Apple Pay加卡」(btn)或「Apple Pay已加卡」。
4. 卡片列表 (btn): 點擊後前往「[卡片列表頁](#卡片列表頁)」。

卡片狀態：

* 甲、未核卡
    * 卡片狀態一：顯示「未核卡」
    * 卡片狀態二：顯示聯繫客服(btn)，點擊後開啟(Native)，聯繫客服 Native 畫面請參考 PRD。

* 乙、已核卡/未啟用/未開卡
    * 卡片狀態一：
        * 查詢開卡狀態為未開卡
        * 顯示線上開卡(btn)，點擊前往[線上開卡](#線上開卡)。
    * 卡片狀態二：
        * 虛實卡且未啟用
        * 顯示啟用卡片(btn)，點擊前往[啟用卡片](#step4虛實卡卡片資訊)。

* 丙、已核卡/已啟用/未開卡/未加卡
    * 適用於虛實卡
    * 卡片狀態一：
        * 查詢開卡狀態為未開卡
        * 顯示線上開卡(btn)，點擊前往線上開卡。
    * 卡片狀態二：
        * 虛實卡且已啟用，但未開卡
        * 查詢Apple Pay加卡狀態(Native)為未加卡
        * 顯示Apple Pay加卡(btn)，點擊前往加卡流程(Native)。
        * Apple Pay 加卡 Native 頁面請參考 PRD。

* 丁、已核卡/已啟用/未開卡/已加卡
    * 適用於虛實卡
    * 卡片狀態一：
        * 查詢開卡狀態為未開卡
        * 顯示線上開卡(btn)，點擊前往線上開卡。
    * 卡片狀態二：
        * 虛實卡且已啟用，但未開卡。
        * 查詢Apple Pay加卡狀態(Native)為已加卡
        * 顯示「Apple Pay已加卡」。

* 戊、已核卡/已啟用/已開卡/未加卡
    * 虛實卡已啟用且已開卡，或非虛實卡且已開卡
    * 卡片狀態一：查詢開卡狀態為已開卡，無顯示訊息。
    * 卡片狀態二：
        * 查詢Apple Pay加卡狀態(Native)為未加卡
        * 顯示Apple Pay加卡(btn)，點擊前往加卡流程(Native)。

* 己、已核卡/已啟用/已開卡/已加卡
    * 虛實卡
        * 已完成啟用、開卡、加卡
    * 非虛實卡
        * 已完成開卡、加卡
    * 卡片狀態一：查詢開卡狀態為已開卡，無顯示訊息。
    * 卡片狀態二：
        * 查詢Apple Pay加卡狀態(Native)為已加卡
        * 顯示「Apple Pay已加卡」。

### 卡片資訊

未核卡

* 卡片狀態：甲。
    * 判斷條件：`IsEmbossed == false`
* 卡片說明：顯示卡片名稱。
* 卡片申辦進度說明
    * 欄位： `StatusDesc`
    * 查詢核卡進度說明，依照現行卡網核卡狀態顯示文字說明。
* 線上補件(btn)
    * 若查詢進度為待補件(`UploadFileMessages` 不為空陣列)，顯示線上補件(btn)
    * 點擊前往「[線上補件](#線上補件)」。 
* 查看申請進度(btn)
    * 點擊前往前往「[申請進度查詢](#申辦進度)」流程。

已核卡

* 卡片狀態：乙丙丁戊己
    * 判斷條件：`IsEmbossed == true`
* 卡片說明：顯示卡片名稱、國際組織、卡號(隱碼)
* 最新消費紀錄
    * API：呼叫「最新消費資料(已授權未請款)」API，URL 為 `/api/Account/LatestTx`。
    * 來源：該卡片近兩筆消費(已授權未請款)。
    * 若無消費紀錄，隱藏按鍵。
    * 顯示內容：類別、授權日期(YYYY/MM/DD)、金額。
    * 點擊：開啟最新消費紀錄「燈箱(Native)」
        * 標題：最新消費紀錄內容
        * 內容：金額、類別、授權時間、卡別、消費國家、授權結果
        * 關閉(btn)：點擊關閉燈箱
    * 查看更多(btn))：點擊前往 「交易明細_信用卡頁(Native)」
* 消費回饋報告
    * API
        * 幣倍卡(台外幣)：呼叫「查詢幣倍卡回饋資料」API，URL 為 `/api/Bonus/QueryDcurFeedback`。
        * 大戶卡(台幣)：呼叫「查詢大戶卡現金回饋資料」API，URL 為 `/api/Bonus/QueryDawhoFeedback`。
        * 運動卡(豐點)：呼叫「查詢Sport卡現金回饋資料」API，URL 為 `/api/Bonus/QuerySportFeedback`。
    * 來源：幣倍卡、大戶卡、運動卡才顯示消費回饋報告
        * 大戶卡: `ProductType == 5`
        * 幣倍卡: `ProductType == 6`
        * SPORT卡: `ProductCode + CardFace  == "293301"`
    * 選擇月份(下拉選單)
        * 半年期月份
        * 總回饋金額：應為另外欄位，PRD 未標示。
    * 若無消費紀錄，顯示「無回饋紀錄」。
    * 顯示：回饋項目、消費金額(灰)、回饋金額(黃)。
    * 點擊：前往該回饋所對應之 [回饋消費明細](#回饋消費明細)。
* CAWHO PAY綁定
    * 資訊 icon(btn)：點擊開啟卡片綁定說明「燈箱(Native)」
        * 待確認：切版並無此圖示
        * 標題： CAWHO PAY 卡片綁定
        * 內容：立即綁定卡片，繳費支付免輸效期，快速又便利
        * 確定(btn)：點擊關閉燈箱
    * 顯示： 查詢此卡片綁定狀態(Native)
        * 乙： 灰頻
    * 綁定(btn)：前往 「卡片綁定(Native)」流程，示意圖參考 PRD
    * 解綁(btn)：開啟解除綁定卡片「燈箱(Native)」
        * 標題：解除卡片綁定
        * 內容：下次綁定需要再重新輸入簡訊驗證碼喔
        * 確定解除(btn1)：關閉燈箱，解除此卡片綁定(Native)
        * 取消(btn2)：關閉燈箱

## 卡片列表頁

* URL: `/Account/CardOrder`

未核卡卡片不會顯示於列表頁

* 卡片列表
    * 來源：由「[信用卡管理頁](#信用卡管理頁)」傳入。
    * 卡片圖示：顯示卡號對應卡圖，卡圖來源。
    * 卡片名稱：卡名需完整顯示，最多20字。
    * 卡號資訊：國際發卡組織(圖示)、卡號(隱碼)。
    * 點擊(btn)：前往「該卡片之信用卡管理頁」
    * 變更排序(btn)：長壓可上下調整卡片排序
* 確定(btn)：點擊儲存此次卡片排序
* 取消(btn)：點擊返回「[信用卡管理頁](#信用卡管理頁)」

## 回饋消費明細

* 消費紀錄
    * 來源：該回饋項目所對應之消費明細。由「[信用卡管理頁](#信用卡管理頁)」傳入。
    * 顯示：
        * 消費明細在 `DetailA` 裡：
            * 消費日期(YYYY/MM/DD)： `TXDATE`
            * 帳單說明： `MEMO`
            * 消費金額： `TX_AMT`
        * 消費明細在 `DetailB` 裡：幣倍卡某些回饋項目(加碼回饋或指定通路)會有多幣別的消費明細
            * 臺幣： `CurrencyCode` 為空值
                * 消費記錄
                    * 消費日期(YYYY/MM/DD)： `TXDATE`
                    * 消費說明： `MEMO`
                * 依臺幣計
                    * 消費金額
            * 其他幣別
                * 消費記錄 (`{CurrencyName}`)
                    * 消費日期(YYYY/MM/DD)： `TXDATE`
                    * 消費說明： `MEMO`
                * 原幣金額： `DCUR_AMT`
                * 約當臺幣： `TTL_AMT`
## 啟用卡片

* URL: `/Application/CardEnable`

### 啟用卡片Step1:身分確認

(未登入)

* 身分證字號(text field)
    * hint：請輸入您的身分證字號
    * 輸入限制：限 10 碼英數字，不允許符號，不得複製貼上。
    * 檢核：需符合身分證字號編碼規則。
* 出生年月日(text field)
    * hint：請輸入您的出生年月日
    * 輸入限制：輸入限制：點擊開啟數字鍵盤，限 8 碼數字， 4/2/2 自動鍵入斜線，不得複製貼上。
    * 格式檢核：須符合生日格式
* 發送驗證碼(btn)
    * 前台檢核
        * 欄位空值：顯示「＃欄位名稱#不能空著唷。」
        * 格式錯誤：顯示「哎呀！#欄位名稱#格式有誤，請重新輸入。」
    * 後台檢核
        * 呼叫「卡友驗證」API，URL 為 `/api/Auth/AuthByBirthday`。
        * 錯誤：燈箱(Native)顯示
            * 內容：(錯誤訊息)
            * 確定(btn)：點擊關閉燈箱
        * 正確
            * 呼叫「查詢手機號碼」API，URL 為 `/api/Member/QueryMobile`。
            * 呼叫「產生動態密碼」API，URL 為 `/api/Member/GenerateOTP`。
            * 前往 [step2輸入驗證碼頁](#啟用卡片step2輸入otp驗證碼)
* 取消(btn)：點擊 btn 返回原頁 (待確認)

### 啟用卡片Step2:輸入OTP驗證碼

(未登入)

* 手機號碼：系統帶出信用卡客戶留存之手機號碼(隱碼末三碼)
* 驗證碼(text field)：
    * 輸入限制：開啟數字鍵盤， 限 6 碼數字，不能複製貼上
    * 自動帶入：可由手機自動帶入驗證碼 (待確認)
* 剩餘時間：自120秒開始倒數。(比照網銀)
    * 剩餘時間 0 秒：顯示「驗證碼已失效。」
* 重發驗證碼(btn)：
    * 呼叫「產生動態密碼」API，URL 為 `/api/Member/GenerateOTP`。
* 確定(btn) 
    * 呼叫「驗證動態密碼」API，URL 為 `/api/Member/VerifyOTP`。
    * 前台檢核：
        * 空值：請輸入驗證碼
        * 碼數錯誤：請輸入 6 位數字驗證碼。
    * 後台檢核：
        * 驗證碼錯誤 < 2 次：顯示「驗證碼錯誤，請重新輸入」
        * 驗證碼錯誤 3 次：燈箱顯示
            * 內容：驗證碼錯誤已達上限，請重新綁定。(待確認)
            * 確定(btn1)：關閉燈箱，返回原頁
            * 聯繫客服(btn2)：開啟「聯繫客服(Native)」
        * 檢核無誤：
            * 呼叫「卡片狀態」API，URL 為 `/api/Member/CardStatus`。
            * 取得虛實卡且未啟用的卡片數
                * 過慮條件：`IsVIREAL == true && IsVCard == false`
                * 2 張以上：前往「[啟用卡片Step3-1:選擇啟用卡片(多卡)](#啟用卡片step3-1選擇啟用卡片多卡)」
                * 1 張：前往「[啟用卡片Step3-2:優先啟用卡片(單卡)](#啟用卡片step3-2優先啟用卡片單卡)」
                * 無資料

* 取消(btn)：點擊 回首頁(Native)

### 啟用卡片Step3-1:選擇啟用卡片(多卡)

(未登入)

* 啟用卡片列表
    * 顯示：此ID可啟用之卡片(卡號由小到大)，預設勾選第一張。 
    * 卡片圖示：顯示卡號對應卡圖。
    * 卡片名稱：卡名需完整顯示，最多20字。
    * 卡號資訊：國際發卡組織、卡號(隱碼)。
    * 點擊：選擇欲啟用之卡片
* 確定(btn)：啟用選擇之卡片，前往 [Step4:虛實卡卡片資訊](#step4虛實卡卡片資訊)。
* 取消(btn)：點擊 回首頁(Native)

### 啟用卡片Step3-2:優先啟用卡片(單卡)

(未登入)

* 此ID可啟用之卡片僅有一張。
* 卡片名稱：卡名需完整顯示。
* 卡片圖示：顯示卡號對應卡圖。
* 優先啟用(btn)：點擊，前往 [Step4:虛實卡卡片資訊](#step4虛實卡卡片資訊)。
* 取消(btn)：點擊 回首頁(Native)

### Step4:虛實卡卡片資訊

* 呼叫「查詢優先啟用碼卡號資訊」API，URL 為 `/api/Apply/QueryPriorActivateCardInfo`。
* 卡片名稱：卡片名稱：欲啟用卡片之名稱
* 卡片圖示：來源同卡面管理。
* 卡片資訊：
    1. 核卡日
    2. 啟用失效日
    3. 卡片名稱
    4. 國際組織
    5. 信用卡號(顯示前 6 後 4，中間隱碼，加眼睛檢視)
    6. 效期(全隱碼，加眼睛檢視) 
    7. 末三碼(全隱碼，加眼睛檢視)
    8. 持卡人中文姓名
    9. 持卡人英文姓名
    10. 信用額度
* 立即啟用(btn)：
    * `IsPriorActivated` 為 `true` 時不顯示。
    * 點擊啟用該卡片，接續 [Step5:啟用結果](#step5啟用結果)。
* 取消(btn)：返回「[信用卡管理頁](#信用卡管理頁)」
    * 待確認：未登入是否回首頁(Native)
* 注意事項：內容請參考 PRD。

### Step5:啟用結果

* 啟用成功
    * 標題：啟用成功
    * 內容：刷卡帳務輕鬆管理，回饋報告一目瞭然
    * 已登入
        * 確定(btn)：前往「[信用卡管理頁](#信用卡管理頁)」
        * 回信用卡頁(btn)：返回「[信用卡管理頁](#信用卡管理頁)」
    * 未登入
        * 搶先體驗(btn)：點擊前往「信用卡頁」(待確認)。
        * 回首頁(btn)：點擊「回首頁(Native)」
* 啟用失敗
    * 標題：啟用失敗
    * 內容：錯誤訊息
    * 聯繫客服(btn)：開啟 「聯繫客服(Native)」。
    * 已登入
        * 回信用卡頁(btn)：返回「[信用卡管理頁](#信用卡管理頁)」
    * 未登入
        * 回首頁(btn)：點擊「回首頁(Native)」

## 線上開卡

URL: `/Application/CardActivate`

### 線上開卡Step1:輸入卡號資訊

* 信用卡卡號
    * 若已登入，請帶入卡片卡號，顯示前 6 後 4，中間隱碼，加眼睛檢視 ，不可編輯。
    * hint：請輸入您的卡號
    * 輸入限制：開啟數字鍵盤，限 16 碼數字，不得複製貼上
    * 相機icon：點擊開啟相機，OCR辨識卡號 (Native)
* 有效期限(text field)
    * hint：月 / 年
    * 輸入限制：點擊開啟數字鍵盤，每欄限 2 碼數字， 輸入 2 位數後自動跳下一欄，不得複製貼上。
* 出生年月日(text field)
    * hint：請輸入您的出生年月日
    * 輸入限制：點擊開啟數字鍵盤，限 8 碼數字，自動鍵入斜線 `YYYY/MM/DD`，不得複製貼上。
    * 格式檢核：須符合生日格式
* 驗證碼(text field)
    * hint：請輸入驗證碼
    * 輸入限制：點擊開啟數字鍵盤，限 6 碼數字
    * 重整符號(btn)：點擊可重新產出驗證碼
* 確定開卡(btn)
    * 前台檢核
        * 欄位空值：顯示「＃欄位名稱#不能空著唷。」
        * 格式錯誤：顯示「哎呀！#欄位名稱#格式有誤，請重新輸入。」
        * 驗證碼錯誤：顯示「請重新輸入驗證碼」
    * 後端檢核
        * 呼叫「網路開卡」API，URL 為 `/api/Apply/CardActivation`。
        * 前往 [Step2:開卡結果](#線上開卡step2開卡結果)
* 取消(btn)：
    * 已登入：返回「信用卡管理頁」。
    * 未登入：返回「首頁(Native)」。

### 線上開卡Step2:開卡結果

* 開卡成功
    * 後端檢核成功
    * 標題：開卡成功
    * 內容：刷卡帳務輕鬆管理，回饋報告一目瞭然
    * 已登入
        * 確定(btn)：點擊前往「[信用卡管理頁](#信用卡管理頁)」。
        * 回信用卡頁(btn)：點擊前往「[信用卡管理頁](#信用卡管理頁)」。
    * 未登入：
        * 搶先體驗(btn)：點擊前往「信用卡頁」(待確認)。
        * 回首頁(btn)：返回「首頁(Native)」。

* 開卡失敗
    * 後端檢核失敗
    * 標題：開卡失敗
    * 內容：(錯誤訊息)
    * 聯繫客服(btn)：點擊開啟 「聯繫客服(Native)」。
    * 已登入
        * 回信用卡頁(btn)：點擊前往「[信用卡管理頁](#信用卡管理頁)」。
    * 未登入：
        * 回首頁(btn)：返回「首頁(Native)」。

## 申辦進度

URL: `/Application/CardQuery`

### 申辦進度:身分確認

若已登入：需呼叫「申請進度查詢」API，URL 為 `/api/Apply/StatusInquiry`。並直接前往「[申辦進度Step2:列表頁](#申辦進度step2列表頁)」

* 身分證字號(text field)
    * hint：請輸入您的身分證字號
    * 輸入限制：限 10 碼英數字，不允許符號，不得複製貼上
    * 檢核：需符合身分證字號編碼規則
* 出生年月日(text field)
    * hint：請輸入您的出生年月日
    * 輸入限制：輸入限制：點擊開啟數字鍵盤，限 8 碼數字， 4/2/2 自動鍵入斜線，不得複製貼上
    * 檢核：需符合生日編碼規則
* 驗證碼(text field)
    * hint：請輸入驗證碼
    * 輸入限制：點擊開啟數字鍵盤，限 6 碼數字
    * 重整符號(btn)：點擊可重新產出驗證碼
* 確定查詢(btn) 
    * 前台檢核
        * 欄位空值：顯示「＃欄位名稱#不能空著唷。」
        * 格式錯誤：顯示「哎呀！#欄位名稱#格式有誤，請重新輸入。」
        * 驗證碼錯誤：顯示「請重新輸入驗證碼」
    * 後台檢核：
        * 呼叫「申請進度查詢」API，URL 為 `/api/Apply/StatusInquiry`。
        * 檢核無誤：前往[step2](#申辦進度step2列表頁)
        * 無資料：顯示燈箱(Native)
            * 內容：無相關資料
            * 確定(btn)：點擊關閉燈箱，返回原頁
        * 錯誤：顯示燈箱(Native)
            * 內容：(錯誤訊息)
            * 確定(btn)：點擊關閉燈箱，返回原頁
* 取消(btn)：點擊 返回「首頁(Native)」

### 申辦進度Step2:列表頁

* 卡片列表
    * 卡片圖示：顯示卡號對應卡圖。
    * 卡片名稱：卡名需完整顯示，最多20字。
    * 申辦進度說明：查詢此卡片進度說明，將依照舊版 MMA 回覆「申請狀態」資訊合併顯示。
        * 請參考 EWEB 申請進度查詢(小網)未優化的版本(9/28 以前)。
    * 狀態時間： `STATUS_DATE`。
    * 狀態符號：已核卡(勾)。
        * `STATUS == 4 || STATUS === 5`

以下為第二階段優化的功能：

* 上傳缺補文件(btn)：前往「線上補件 」流程
* 下載聲明書(btn)：外開連結(同 MMA)
* 聯繫客服(btn)：點擊 btn 開啟「聯繫客服(Native)」
* 急需用卡說明：若 「申請狀態」需導引急需用卡則顯示此區塊(同 MMA)
    * 申請原因(選單)：同 MMA，選單項目如下
        * 近期將出國
        * 代繳保費
        * 一般消費
        * 其他
    * 說明：
        * hint：請說明...
        * 輸入限制：限 50 字元
    * 急需用卡(btn)：
        * 前端檢核
            * 欄位空值：請說明原因 5 0 字內
        * 後端檢核
            * 呼叫「申請進度查詢急需用卡」API，URL 為 `/api/Apply/ApplicationStatusWorkflow`。
                * Description： 同 MMA，值為「申請原因(說明)」。
            * 正確：以燈箱顯示
                * 內容：已送出，請靜候佳音。
                * 確定(btn)：點擊關閉燈箱，返回信用卡頁(已登入)或首頁(未登入)
            * 錯誤：以燈箱顯示錯誤訊息。

## 線上補件

URL: `/Application/CardAddDoc`

### 線上補件Step1:身份證字號檢核

未登入(第一階段不提供)

* 身分證字號(text field)
    * hint：請輸入您的身分證字號
    * 輸入限制：限 10 碼英數字，不允許符號，不得複製貼上
    * 格式檢核：須符合身分證字號編碼規則
* 驗證碼(text field)
    * hint：請輸入驗證碼
    * 輸入限制：點擊開啟數字鍵盤，限 6 碼數字
    * 重整符號(btn)：點擊可重新產出驗證碼
* 下一步(btn)：點擊 btn 需呼叫 `/api/Apply/UploadFileCheckID`
    * 檢核前端錯誤
        * 欄位空值：#欄位名稱#不能空著唷。
        * 格式錯誤：哎呀！#欄位名稱#格式有誤，請重新輸入。
        * 驗證碼錯誤：請重新輸入驗證碼
    * 檢核前端正確：前往Step2

### 線上補件Step2:上傳檔案

* 上傳注意事項：提醒您，檔案格式限 JPG 、 PNG 、 TIF 檔，單一檔案大小不得超過 5MB ，財力證明文件最多上傳 10 張。
* 上傳圖片(btn)：開啟檔案上傳(Native)
* 財力或其他證明文件
    * 財力證明注意事項：參考 PRD
    * 財力證明攻略(btn)：點擊外開，URL https://bank.sinopac.com/sinopacBT/webevents/2010_FS/also.html?focus=tab
    * 上傳圖片(btn)：開啟檔案上傳(Native)。檔案數量大於 10，隱藏此按鈕。
* 檔案上傳檢核：
    * 錯誤：燈箱顯示「檔案格式不符」
    * 正確
        * 預覽圖片，顯示取消icon(btn)。
        * 取消icon(btn)：點擊刪除上傳檔案
* 使用 MyData 補件
    * 注意事項：參考 PRD
    * 個人化資料自主運用(平臺) link：
        * 網頁外開： https://mydata.nat.gov.tw/sp/about
* 確定上傳(btn)：
    * 前端檢核
        * 無資料：未選擇任一檔案時，以燈箱顯示「請上傳文件」
        * 有資料：前往Step3
* 前往MyData(btn)：
    * 相關程式碼請參考現行 EWEB 的上傳缺補件功能
    * 點擊 btn 需呼叫 `/api/MyData/MyDataLogin`
        * 後端會回傳 `TwidPortalUrl`
    * 點擊 btn 開啟 MyData 燈箱
        * 標題： 前往個人化資料自主運用(平臺)
        * 內容：參考 PRD
        * 同意並前往(btn)：MyData 頁面導引(內嵌)，此流程待確認
            * 點擊後需呼叫 `/api/MyData/MyDataDo` (後端記 LOG 用)
            * FORM POST 到 `TwidPortalUrl + '/DO'`

### 線上補件Step3:確認圖片

* 確認身分證：顯示上傳之身分證正反面圖片
* 確認財力證明及其他證明文件：顯示檔名
* 確定送出(btn)：
    * 點擊 btn
    * 每個檔案呼叫一次「上傳檔案」API，URL 為 `/api/Apply/UploadFile`。
    * API 全部成功：呼叫「完成上傳檔案」API，URL 為 `/api/Apply/CompleteUploadFile`。
    * 前往 [線上補件Step4:上傳結果](#線上補件step4上傳結果)
* 取消(btn)：返回「[信用卡管理頁](#信用卡管理頁)」

### 線上補件Step4:上傳結果

* 成功
    * 標題：上傳成功
    * 內容： 資料審理預計 3 5 天可完成，謝謝。
    * 已登入
        * 確定(btn)：返回「[信用卡管理頁](#信用卡管理頁)」
    * 未登入
        * 確定(btn)：點擊 回首頁
    * 聯繫客服(btn)：點擊開啟「聯繫客服(Native)」。
* 失敗
    * 標題：上傳失敗
    * 內容：(錯誤訊息)
    * 再試一次(btn)：點擊返回 [線上補件Step2:上傳檔案](#線上補件step2上傳檔案)。
    * 聯繫客服(btn)：點擊開啟「聯繫客服(Native)」。

### MyData結果頁

URL: `/Application/MyDataComplete/:type?rc=1`

* type: string (1: 線上辦卡; 2:上傳缺補文件; 3: 永久額度調整)
* rc: string (申請結果。0: 成功; 1:失敗)

MyData 做完後，會 POST 回永豐的 WEB SERVER，後端會重導至此頁。

EWEB 參考網址：

* 成功： http://localhost:4200/Application/MyDataComplete/2?rc=0
* 失敗： http://localhost:4200/Application/MyDataComplete/2?rc=1

## 待確認

Native 介接項目

* 聯繫客服
* 查詢Apple Pay加卡狀態
* Apple Pay加卡
    * API : 1-29 (iOS)Apple Pay加卡
* OCR辨識卡號 (Native)
    * API : 1-32 掃描信用卡
* 回首頁(Native)
* 燈箱(Native)
    * API : 1-6 顯示指定的html Dialog(只有確認)
    * API : 1-7 顯示指定的html Dialog(有確認及取消)
    * API : 1-8 顯示message Dialog(只有確認)
    * API : 1-9 顯示Message Dialog(有確認及取消)
* 查詢此卡片綁定狀態(Native)
* 卡片綁定
* 解除此卡片綁定(Native)
* 檔案上傳
* 交易明細_信用卡頁(Native)
* 搶先體驗(btn)：點擊前往「信用卡頁」
* 返回原頁
